## ğŸ“ 224. Basic Calculator  
Given a string `s` representing a valid expression, implement a basic calculator to evaluate it, and return the result of the evaluation.  
**Note:** You are **not** allowed to use any built-in function which evaluates strings as mathematical expressions, such as `eval()`.  
     
  
#### Example 1:  

```
Input: s = "1 + 1"
Output: 2

```
#### Example 2:  

```
Input: s = " 2-1 + 2 "
Output: 3

```
#### Example 3:  

```
Input: s = "(1+(4+5+2)-3)+(6+8)"
Output: 23

```
  
#### Constraints:  
+ `1 <= s.length <= 3 * 10**5`  
+ `s` consists of digits, `'+'`, `'-'`, `'('`, `')'`, and `' '`.  
+ `s` represents a valid expression.  
+ `'+'` is **not** used as a unary operation (i.e., `"+1"` and `"+(2 + 3)"` is invalid).  
+ `'-'` could be used as a unary operation (i.e., `"-1"` and `"-(2 + 3)"` is valid).  
+ There will be no two consecutive operators in the input.  
+ Every number and running calculation will fit in a signed 32-bit integer.  
  
## ğŸ“ Solution 
```php  
classÂ SolutionÂ {  
  
Â Â Â Â /**  
Â Â Â Â Â *Â CalculateÂ Sum  
Â Â Â Â Â *  
Â Â Â Â Â *Â @paramÂ integer|stringÂ $n1  
Â Â Â Â Â *Â @paramÂ integer|stringÂ $n2  
Â Â Â Â Â *Â @returnÂ integer|false  
Â Â Â Â Â */  
Â Â Â Â protectedÂ functionÂ sum(int|stringÂ $n1,Â int|stringÂ $n2):int|falseÂ {  
Â Â Â Â Â Â Â Â if(!is_numeric($n1)Â ||Â !is_numeric($n2))Â returnÂ false;  
Â Â Â Â Â Â Â Â returnÂ (int)$n1Â +Â (int)$n2;  
Â Â Â Â }  
  
Â Â Â Â /**  
Â Â Â Â Â *Â CalculateÂ Minus  
Â Â Â Â Â *  
Â Â Â Â Â *Â @paramÂ integer|stringÂ $n1  
Â Â Â Â Â *Â @paramÂ integer|stringÂ $n2  
Â Â Â Â Â *Â @returnÂ integer|false  
Â Â Â Â Â */  
Â Â Â Â protectedÂ functionÂ minus(int|stringÂ $n1,Â int|stringÂ $n2):int|falseÂ {  
Â Â Â Â Â Â Â Â if(!is_numeric($n1)Â ||Â !is_numeric($n2))Â returnÂ false;  
Â Â Â Â Â Â Â Â returnÂ (int)$n1Â -Â (int)$n2;  
Â Â Â Â }  
  
Â Â Â Â /**  
Â Â Â Â Â *Â CalculateÂ non-bracketsÂ math  
Â Â Â Â Â *  
Â Â Â Â Â *Â @returnÂ void  
Â Â Â Â Â */  
Â Â Â Â protectedÂ functionÂ calc():voidÂ {  
Â Â Â Â Â Â Â Â foreach($this->expArrÂ asÂ $iÂ =>Â $symbol)Â {  
  
Â Â Â Â Â Â Â Â Â Â Â Â if($symbolÂ ===Â '+')Â {  
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â $findÂ =Â $this->sum($this->expArr[$iÂ -Â 1],Â $this->expArr[$iÂ +Â 1]);  
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â break;  
Â Â Â Â Â Â Â Â Â Â Â Â }  
  
Â Â Â Â Â Â Â Â Â Â Â Â if($symbolÂ ===Â '-')Â {  
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â $findÂ =Â $this->minus($this->expArr[$iÂ -Â 1],Â $this->expArr[$iÂ +Â 1]);  
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â break;  
Â Â Â Â Â Â Â Â Â Â Â Â }  
Â Â Â Â Â Â Â Â }  
  
Â Â Â Â Â Â Â Â $this->expArr[$i]Â =Â $find;  
Â Â Â Â Â Â Â Â if(isset(($this->expArr[$iÂ -Â 1])))Â unset($this->expArr[$iÂ -Â 1]);  
Â Â Â Â Â Â Â Â if(isset(($this->expArr[$iÂ +Â 1])))Â unset($this->expArr[$iÂ +Â 1]);  
  
Â Â Â Â Â Â Â Â //Â ReindexÂ Array  
Â Â Â Â Â Â Â Â $this->expArrÂ =Â array_values($this->expArr);  
Â Â Â Â }  
  
Â Â Â Â /**  
Â Â Â Â Â *Â AllowedÂ Symbols  
Â Â Â Â Â *  
Â Â Â Â Â *Â @varÂ array  
Â Â Â Â Â */  
Â Â Â Â protectedÂ arrayÂ $allowedCombinationsÂ =Â [  
Â Â Â Â Â Â Â Â '+',  
Â Â Â Â Â Â Â Â '-',  
Â Â Â Â Â Â Â Â '(',  
Â Â Â Â Â Â Â Â ')'  
Â Â Â Â ];  
  
Â Â Â Â /**  
Â Â Â Â Â *Â ReplaceÂ doubleÂ symbolsÂ withÂ singleÂ symbol  
Â Â Â Â Â *  
Â Â Â Â Â *Â @paramÂ stringÂ $s  
Â Â Â Â Â *Â @returnÂ string  
Â Â Â Â Â */  
Â Â Â Â protectedÂ functionÂ multipleSymbols(stringÂ $s):stringÂ {  
Â Â Â Â Â Â Â Â $symbolsToReplaceÂ =Â [  
Â Â Â Â Â Â Â Â Â Â Â Â '-Â -'Â =>Â '+',  
Â Â Â Â Â Â Â Â Â Â Â Â '-Â +'Â =>Â '-',  
Â Â Â Â Â Â Â Â Â Â Â Â '+Â -'Â =>Â '-',  
Â Â Â Â Â Â Â Â Â Â Â Â '+'Â =>Â '+'  
Â Â Â Â Â Â Â Â ];  
Â Â Â Â Â Â Â Â foreach($symbolsToReplaceÂ asÂ $oldÂ =>Â $new)Â {  
Â Â Â Â Â Â Â Â Â Â Â Â $sÂ =Â str_replace($old,Â $new,Â $s);  
Â Â Â Â Â Â Â Â }  
  
Â Â Â Â Â Â Â Â returnÂ $s;  
Â Â Â Â }  
  
  
Â Â Â Â /**  
Â Â Â Â Â *Â CalculateÂ MathÂ InsideÂ Brackets  
Â Â Â Â Â *  
Â Â Â Â Â *Â @returnÂ void  
Â Â Â Â Â */  
Â Â Â Â protectedÂ functionÂ calculateBrackets():voidÂ {  
Â Â Â Â Â Â Â Â //Â FindÂ theÂ mostÂ innerÂ bracketsÂ andÂ end  
Â Â Â Â Â Â Â Â foreach($this->expArrÂ asÂ $iÂ =>Â $char)Â {  
Â Â Â Â Â Â Â Â Â Â Â Â if($charÂ ===Â '(')Â {  
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â $startÂ =Â $i;  
Â Â Â Â Â Â Â Â Â Â Â Â }  
Â Â Â Â Â Â Â Â Â Â Â Â if($charÂ ===Â ')')Â {  
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â $endÂ =Â $i;  
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â break;  
Â Â Â Â Â Â Â Â Â Â Â Â }  
Â Â Â Â Â Â Â Â }  
  
Â Â Â Â Â Â Â Â //Â GetÂ innerÂ ofÂ theÂ brackets  
Â Â Â Â Â Â Â Â $tmpÂ =Â array_slice($this->expArr,Â $startÂ +Â 1,Â $endÂ -Â $startÂ -Â 1);Â   
  
Â Â Â Â Â Â Â Â //Â IfÂ 1Â itemÂ isÂ notÂ number  
```  
